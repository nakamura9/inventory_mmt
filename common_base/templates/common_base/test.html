{% extends "base.html" %}
{% block _content%}
<div class="form-group">
    <input class="form-control" type="search" id="search" name="search" list="options">
    <datalist id="options">
        <option value="Val">
    </datalist>
</div>
<style>
    .day {
        max-width: 300px;
    }
        
        </style>
        
        <div class="panel panel-primary day">
              <div class="panel-heading">
                    <h3 class="panel-title">3</h3>
              </div>
              <div class="panel-body bg-info">
                    <p>
                    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                    
                    <span class="badge">1</span>
                    </p><p>
                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                    
                    <span class="badge">3</span>
                    
                    </p>
              </div>
        </div>
        


{% endblock %}
{% block _body_script %}
$("#search").keyup(function(){
    if($("#search").val().length > 2){
        $.ajax({
            url: "{% url 'ajax:get-combos' %}",
            data: {"str": $("#search").val(),
                    "model": "spares"},
            method:"POST",
            success: function(result){
                console.log(result.matches);
                var html = "";
                for(i in result.matches){
                    html += "\n<option value='*' >".replace("*", result.matches[i]);
                } 
                $("#options").html(html);
            }
    
        })
    }
    })
{% endblock %}

